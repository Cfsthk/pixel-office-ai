<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dunder Mifflin AI - Scranton Branch</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #0f0f1a;
    font-family: 'Courier New', monospace;
    color: #ccc;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  /* TITLE BAR */
  #titlebar {
    background: #0a0a14;
    border-bottom: 1px solid #2d4a7a;
    padding: 6px 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 12px;
    letter-spacing: 3px;
    font-weight: bold;
    flex-shrink: 0;
  }
  #titlebar .left { color: #ffd700; }
  #titlebar .right { color: #4488ff; font-size: 10px; }

  /* MAIN LAYOUT */
  #main {
    display: flex;
    flex: 1;
    overflow: hidden;
  }

  /* OFFICE SCENE */
  #office {
    flex: 1;
    position: relative;
    overflow: hidden;
    background: #1a1a2e;
  }

  /* Office floor pattern */
  #office-floor {
    position: absolute;
    inset: 0;
    background:
      linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25)),
      repeating-linear-gradient(90deg, transparent, transparent 40px, rgba(22,33,62,0.4) 40px, rgba(22,33,62,0.4) 41px),
      repeating-linear-gradient(0deg, transparent, transparent 40px, rgba(22,33,62,0.4) 40px, rgba(22,33,62,0.4) 41px);
    background-color: #16213e;
  }

  /* Scanlines */
  #scanlines {
    position: absolute;
    inset: 0;
    z-index: 100;
    pointer-events: none;
    background: repeating-linear-gradient(0deg,
      transparent, transparent 2px,
      rgba(0,0,0,0.08) 2px, rgba(0,0,0,0.08) 4px);
  }

  /* Office sign */
  #office-sign {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    color: #ffd700;
    font-size: 11px;
    font-weight: bold;
    letter-spacing: 4px;
    z-index: 20;
    text-shadow: 0 0 8px #ffd700aa;
    border: 1px solid #ffd70044;
    padding: 3px 12px;
    background: #0a0a1488;
  }

  /* Michael's office (glass) */
  #michael-office {
    position: absolute;
    left: 35%;
    top: 5%;
    width: 30%;
    height: 26%;
    border: 2px solid #ffd70066;
    background: rgba(255,215,0,0.04);
    box-shadow: 0 0 20px rgba(255,215,0,0.08);
  }
  #michael-office-label {
    position: absolute;
    top: 4px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 8px;
    color: #ffd70088;
    letter-spacing: 2px;
    white-space: nowrap;
  }

  /* Desks */
  .desk {
    position: absolute;
    width: 52px;
    height: 30px;
    background: #2d4a7a;
    border: 1px solid #4466aa;
    border-radius: 2px;
    transform: translateX(-50%);
  }
  .desk::after {
    content: '';
    position: absolute;
    top: 3px; left: 3px; right: 3px; bottom: 3px;
    background: #1e3a6a;
    border-radius: 1px;
  }

  /* CHARACTERS */
  .agent {
    position: absolute;
    width: 32px;
    height: 48px;
    transform: translateX(-50%);
    z-index: 10;
    cursor: pointer;
    transition: transform 0.15s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .agent:hover { transform: translateX(-50%) scale(1.08); }

  /* Pixel character */
  .character {
    position: relative;
    width: 24px;
    height: 32px;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
  }

  /* Head */
  .head {
    position: absolute;
    top: 0; left: 6px;
    width: 12px; height: 12px;
    background: #f4c090;
    border: 1px solid #d4a070;
  }

  /* Hair */
  .hair {
    position: absolute;
    top: -2px; left: 4px;
    width: 16px; height: 6px;
    background: #5c4033;
    border: 1px solid #3a2821;
  }

  /* Eyes */
  .eyes {
    position: absolute;
    top: 4px;
    display: flex;
    gap: 4px;
    left: 7px;
  }
  .eye {
    width: 2px; height: 2px;
    background: #000;
  }

  /* Smile */
  .smile {
    position: absolute;
    top: 8px; left: 8px;
    width: 8px; height: 2px;
    background: #000;
    border-radius: 0 0 4px 4px;
  }

  /* Body */
  .body {
    position: absolute;
    top: 12px; left: 4px;
    width: 16px; height: 14px;
    background: #4488ff;
    border: 1px solid #2266cc;
  }

  /* Tie (for managers) */
  .tie {
    position: absolute;
    top: 13px; left: 10px;
    width: 4px; height: 10px;
    background: #ff4444;
    border: 1px solid #cc2222;
    border-top: none;
  }

  /* Arms */
  .arms {
    position: absolute;
    top: 14px;
    display: flex;
    gap: 12px;
    left: 2px;
  }
  .arm {
    width: 4px; height: 12px;
    background: #f4c090;
    border: 1px solid #d4a070;
  }

  /* Legs */
  .legs {
    position: absolute;
    top: 26px;
    display: flex;
    gap: 6px;
    left: 6px;
  }
  .leg {
    width: 4px; height: 10px;
    background: #333;
    border: 1px solid #222;
  }

  /* Name label */
  .name-label {
    margin-top: 2px;
    font-size: 8px;
    color: #88aaff;
    letter-spacing: 1px;
    white-space: nowrap;
    text-shadow: 0 0 4px #000;
  }

  /* Status indicator */
  .status {
    position: absolute;
    top: -4px; right: -4px;
    width: 8px; height: 8px;
    border-radius: 50%;
    border: 1px solid #0a0a14;
  }
  .status.active { background: #44ff88; box-shadow: 0 0 6px #44ff88; }
  .status.busy { background: #ffaa00; box-shadow: 0 0 6px #ffaa00; }
  .status.away { background: #888; }

  /* CHAT PANEL */
  #chat-panel {
    width: 320px;
    background: #0a0a14;
    border-left: 1px solid #2d4a7a;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  #chat-header {
    padding: 10px;
    border-bottom: 1px solid #2d4a7a;
    font-size: 11px;
    font-weight: bold;
    color: #ffd700;
    letter-spacing: 2px;
    text-align: center;
    background: #0f0f1a;
  }

  #chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    font-size: 11px;
    line-height: 1.5;
  }

  .message {
    margin-bottom: 12px;
    padding: 8px;
    background: #16213e;
    border-radius: 4px;
    border-left: 3px solid #4488ff;
  }
  .message.user { border-left-color: #ffd700; }
  .message .sender {
    font-weight: bold;
    color: #88aaff;
    margin-bottom: 4px;
  }
  .message.user .sender { color: #ffd700; }

  #chat-input-area {
    border-top: 1px solid #2d4a7a;
    padding: 10px;
    background: #0f0f1a;
  }

  #chat-input {
    width: 100%;
    padding: 8px;
    background: #16213e;
    border: 1px solid #2d4a7a;
    border-radius: 3px;
    color: #ccc;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    outline: none;
    resize: none;
  }
  #chat-input:focus {
    border-color: #4488ff;
    box-shadow: 0 0 6px rgba(68,136,255,0.3);
  }

  #send-btn {
    margin-top: 6px;
    width: 100%;
    padding: 8px;
    background: #2d4a7a;
    border: 1px solid #4466aa;
    border-radius: 3px;
    color: #fff;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
  }
  #send-btn:hover {
    background: #4466aa;
    box-shadow: 0 0 8px rgba(68,136,255,0.4);
  }
  #send-btn:active {
    transform: scale(0.98);
  }

  /* MODAL */
  .modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    z-index: 1000;
    justify-content: center;
    align-items: center;
  }
  .modal.show { display: flex; }

  .modal-content {
    background: #0f0f1a;
    border: 2px solid #2d4a7a;
    border-radius: 6px;
    padding: 24px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 0 40px rgba(68,136,255,0.3);
  }

  .modal-header {
    font-size: 16px;
    font-weight: bold;
    color: #ffd700;
    margin-bottom: 16px;
    letter-spacing: 2px;
    text-align: center;
  }

  .modal-body {
    font-size: 12px;
    line-height: 1.6;
    color: #aaa;
    margin-bottom: 12px;
  }

  .modal-footer {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-top: 20px;
  }

  .modal-btn {
    padding: 8px 20px;
    background: #2d4a7a;
    border: 1px solid #4466aa;
    border-radius: 3px;
    color: #fff;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
  }
  .modal-btn:hover {
    background: #4466aa;
    box-shadow: 0 0 8px rgba(68,136,255,0.4);
  }
  .modal-btn.primary {
    background: #ffd700;
    border-color: #ffed4e;
    color: #0a0a14;
  }
  .modal-btn.primary:hover {
    background: #ffed4e;
    box-shadow: 0 0 8px rgba(255,215,0,0.5);
  }

  /* Scrollbar */
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: #0a0a14; }
  ::-webkit-scrollbar-thumb {
    background: #2d4a7a;
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover { background: #4466aa; }

  /* Character variants */
  .agent[data-role="manager"] .body { background: #ffd700; border-color: #ccaa00; }
  .agent[data-role="sales"] .body { background: #44ff88; border-color: #22cc66; }
  .agent[data-role="reception"] .body { background: #ff88cc; border-color: #cc66aa; }
  .agent[data-role="accountant"] .body { background: #8844ff; border-color: #6622cc; }

  .agent[data-gender="female"] .hair {
    height: 10px;
    border-radius: 50% 50% 0 0;
  }

  /* Animations */
  @keyframes float {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-4px); }
  }

  .agent:hover .character {
    animation: float 0.6s ease-in-out;
  }

  /* Typing indicator */
  .typing {
    display: flex;
    gap: 4px;
    padding: 8px;
  }
  .typing span {
    width: 6px;
    height: 6px;
    background: #4488ff;
    border-radius: 50%;
    animation: typing 1.4s infinite;
  }
  .typing span:nth-child(2) { animation-delay: 0.2s; }
  .typing span:nth-child(3) { animation-delay: 0.4s; }

  @keyframes typing {
    0%, 60%, 100% { opacity: 0.3; }
    30% { opacity: 1; }
  }
</style>
</head>
<body>

<div id="titlebar">
  <div class="left">DUNDER MIFFLIN AI</div>
  <div class="right">SCRANTON BRANCH</div>
</div>

<div id="main">
  <div id="office">
    <div id="office-floor"></div>
    <div id="scanlines"></div>
    
    <div id="office-sign">REGIONAL MANAGER</div>
    
    <!-- Michael's glass office -->
    <div id="michael-office">
      <div id="michael-office-label">MICHAEL SCOTT</div>
    </div>

    <!-- Agents -->
    <div class="agent" data-id="michael" data-role="manager" style="left: 50%; top: 18%;">
      <div class="character">
        <div class="hair"></div>
        <div class="head">
          <div class="eyes"><span class="eye"></span><span class="eye"></span></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="tie"></div>
        <div class="arms"><span class="arm"></span><span class="arm"></span></div>
        <div class="legs"><span class="leg"></span><span class="leg"></span></div>
      </div>
      <div class="name-label">MICHAEL</div>
      <div class="status active"></div>
    </div>

    <div class="agent" data-id="jim" data-role="sales" style="left: 25%; top: 45%;">
      <div class="character">
        <div class="hair"></div>
        <div class="head">
          <div class="eyes"><span class="eye"></span><span class="eye"></span></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="arms"><span class="arm"></span><span class="arm"></span></div>
        <div class="legs"><span class="leg"></span><span class="leg"></span></div>
      </div>
      <div class="name-label">JIM</div>
      <div class="status active"></div>
    </div>

    <div class="agent" data-id="pam" data-role="reception" data-gender="female" style="left: 50%; top: 70%;">
      <div class="character">
        <div class="hair"></div>
        <div class="head">
          <div class="eyes"><span class="eye"></span><span class="eye"></span></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="arms"><span class="arm"></span><span class="arm"></span></div>
        <div class="legs"><span class="leg"></span><span class="leg"></span></div>
      </div>
      <div class="name-label">PAM</div>
      <div class="status active"></div>
    </div>

    <div class="agent" data-id="dwight" data-role="sales" style="left: 35%; top: 45%;">
      <div class="character">
        <div class="hair"></div>
        <div class="head">
          <div class="eyes"><span class="eye"></span><span class="eye"></span></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="arms"><span class="arm"></span><span class="arm"></span></div>
        <div class="legs"><span class="leg"></span><span class="leg"></span></div>
      </div>
      <div class="name-label">DWIGHT</div>
      <div class="status active"></div>
    </div>

    <div class="agent" data-id="angela" data-role="accountant" data-gender="female" style="left: 70%; top: 45%;">
      <div class="character">
        <div class="hair"></div>
        <div class="head">
          <div class="eyes"><span class="eye"></span><span class="eye"></span></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="arms"><span class="arm"></span><span class="arm"></span></div>
        <div class="legs"><span class="leg"></span><span class="leg"></span></div>
      </div>
      <div class="name-label">ANGELA</div>
      <div class="status busy"></div>
    </div>

    <div class="agent" data-id="kevin" data-role="accountant" style="left: 60%; top: 45%;">
      <div class="character">
        <div class="hair"></div>
        <div class="head">
          <div class="eyes"><span class="eye"></span><span class="eye"></span></div>
          <div class="smile"></div>
        </div>
        <div class="body"></div>
        <div class="arms"><span class="arm"></span><span class="arm"></span></div>
        <div class="legs"><span class="leg"></span><span class="leg"></span></div>
      </div>
      <div class="name-label">KEVIN</div>
      <div class="status active"></div>
    </div>

    <!-- Desks -->
    <div class="desk" style="left: 50%; top: 22%;"></div>
    <div class="desk" style="left: 25%; top: 50%;"></div>
    <div class="desk" style="left: 35%; top: 50%;"></div>
    <div class="desk" style="left: 60%; top: 50%;"></div>
    <div class="desk" style="left: 70%; top: 50%;"></div>
    <div class="desk" style="left: 50%; top: 75%;"></div>
  </div>

  <div id="chat-panel">
    <div id="chat-header">AGENT CHAT</div>
    <div id="chat-messages">
      <div class="message">
        <div class="sender">SYSTEM</div>
        <div>Welcome to Dunder Mifflin AI! Click on any agent to start chatting.</div>
      </div>
    </div>
    <div id="chat-input-area">
      <textarea id="chat-input" rows="3" placeholder="Type your message..."></textarea>
      <button id="send-btn">SEND MESSAGE</button>
    </div>
  </div>
</div>

<!-- Agent Info Modal -->
<div id="agent-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header" id="modal-agent-name"></div>
    <div class="modal-body">
      <div><strong>Role:</strong> <span id="modal-agent-role"></span></div>
      <div><strong>Status:</strong> <span id="modal-agent-status"></span></div>
      <div style="margin-top: 12px;" id="modal-agent-bio"></div>
    </div>
    <div class="modal-footer">
      <button class="modal-btn" onclick="closeModal()">CLOSE</button>
      <button class="modal-btn primary" onclick="startChat()">START CHAT</button>
    </div>
  </div>
</div>

<script>
// Agent data
const agents = {
  michael: {
    name: "Michael Scott",
    role: "Regional Manager",
    status: "active",
    bio: "World's Best Boss. Expert in management, motivation, and that's what she said jokes. Always ready to help with leadership questions!",
    personality: "Enthusiastic, slightly inappropriate, loves attention"
  },
  jim: {
    name: "Jim Halpert",
    role: "Sales Representative",
    status: "active",
    bio: "Top salesman with a laid-back attitude. Great at problem-solving and thinking outside the box. Also excellent at pranks.",
    personality: "Witty, sarcastic, strategic thinker"
  },
  pam: {
    name: "Pam Beesly",
    role: "Receptionist",
    status: "active",
    bio: "The glue that holds the office together. Organized, creative, and always willing to help with scheduling and coordination.",
    personality: "Kind, artistic, good listener"
  },
  dwight: {
    name: "Dwight Schrute",
    role: "Assistant Regional Manager",
    status: "active",
    bio: "Beet farmer and karate expert. Incredibly detail-oriented and follows rules to the letter. Best at data analysis and procedures.",
    personality: "Intense, rule-following, competitive"
  },
  angela: {
    name: "Angela Martin",
    role: "Accountant",
    status: "busy",
    bio: "Head of accounting department. Precise, thorough, and maintains the highest standards. Expert in financial analysis.",
    personality: "Strict, judgmental, cat lover"
  },
  kevin: {
    name: "Kevin Malone",
    role: "Accountant",
    status: "active",
    bio: "Accountant with a simple approach to complex problems. Good at finding creative solutions, even if they're unconventional.",
    personality: "Simple, loves food, surprisingly insightful"
  }
};

let currentAgent = null;

// Modal functions
function openModal(agentId) {
  const agent = agents[agentId];
  document.getElementById('modal-agent-name').textContent = agent.name.toUpperCase();
  document.getElementById('modal-agent-role').textContent = agent.role;
  document.getElementById('modal-agent-status').textContent = agent.status.toUpperCase();
  document.getElementById('modal-agent-bio').textContent = agent.bio;
  document.getElementById('agent-modal').classList.add('show');
  currentAgent = agentId;
}

function closeModal() {
  document.getElementById('agent-modal').classList.remove('show');
}

function startChat() {
  closeModal();
  const agent = agents[currentAgent];
  addMessage('system', `You are now chatting with ${agent.name}!`);
  document.getElementById('chat-input').focus();
}

// Chat functions
function addMessage(sender, text, isUser = false) {
  const messagesDiv = document.getElementById('chat-messages');
  const messageDiv = document.createElement('div');
  messageDiv.className = 'message' + (isUser ? ' user' : '');
  
  const senderDiv = document.createElement('div');
  senderDiv.className = 'sender';
  senderDiv.textContent = sender.toUpperCase();
  
  const textDiv = document.createElement('div');
  textDiv.textContent = text;
  
  messageDiv.appendChild(senderDiv);
  messageDiv.appendChild(textDiv);
  messagesDiv.appendChild(messageDiv);
  
  messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function showTyping() {
  const messagesDiv = document.getElementById('chat-messages');
  const typingDiv = document.createElement('div');
  typingDiv.className = 'typing';
  typingDiv.id = 'typing-indicator';
  typingDiv.innerHTML = '<span></span><span></span><span></span>';
  messagesDiv.appendChild(typingDiv);
  messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function hideTyping() {
  const typing = document.getElementById('typing-indicator');
  if (typing) typing.remove();
}

async function sendMessage() {
  const input = document.getElementById('chat-input');
  const message = input.value.trim();
  
  if (!message) return;
  if (!currentAgent) {
    addMessage('system', 'Please select an agent first by clicking on them!');
    return;
  }
  
  // Add user message
  addMessage('You', message, true);
  input.value = '';
  
  // Show typing indicator
  showTyping();
  
  // Simulate AI response (replace with actual AI API call)
  setTimeout(() => {
    hideTyping();
    const agent = agents[currentAgent];
    const responses = [
      `That's an interesting question! As ${agent.role}, I'd say...`,
      `${agent.personality}... Let me think about that.`,
      `Based on my experience at Dunder Mifflin, here's what I think...`,
      `Great question! In my role as ${agent.role}, I handle this by...`
    ];
    const response = responses[Math.floor(Math.random() * responses.length)];
    addMessage(agent.name, response);
  }, 1500);
}

// Event listeners
document.querySelectorAll('.agent').forEach(agent => {
  agent.addEventListener('click', () => {
    openModal(agent.dataset.id);
  });
});

document.getElementById('send-btn').addEventListener('click', sendMessage);
document.getElementById('chat-input').addEventListener('keypress', (e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    sendMessage();
  }
});

// Close modal on outside click
document.getElementById('agent-modal').addEventListener('click', (e) => {
  if (e.target.id === 'agent-modal') closeModal();
});

// Welcome message
setTimeout(() => {
  addMessage('system', 'Pro tip: Each agent has unique expertise based on their role!');
}, 2000);
</script>

</body>
</html>
